#include QMK_KEYBOARD_H

enum layers {
    _EUCALYN,
    _LOWER,
    _RAISE,
    _ADJUST,
    _QWERTY,
    _QWENUM
};

#define TABLO LT(_LOWER, KC_TAB)
#define ENTRA LT(_RAISE, KC_ENTER)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

/* EUCALYN
 *
 * ,----------------------------------.           ,----------------------------------.
 * |  Q   |  W   |  ,   |  .   |  ;   |           |  M   |  R   |  D   |  Y   |  P   |
 * |------+------+------+------+------|           |------+------+------+------+------|
 * | A/Ctl|  O   |  E   |  I   |  U   |           |  G   |  T   |  K   |  S   |  N   |
 * |------+------+------+------+------|           |------+------+------+------+------|
 * | Z/Sft|  X   |  C   |  V   |  F   |           |  B   |  H   |  J   |  L   | //Sft|
 * `----------------------------------'           `----------------------------------'
 *                  ,------.------.------.    ,------,------.------.
 *                  | GUI  | LOWER|      |    |      |RAISE | Alt  |
 *                  |      |      | Space|    |Enter |      |      |
 *                  `------'------| /Sft |    |/Ctl  |------'------'
 *                                |      |    |      |
 *                                `------'    `------'
 */
[_EUCALYN] = LAYOUT(
            KC_Q,            KC_W,         KC_COMM,          KC_DOT,         KC_SCLN,                KC_M,            KC_R,            KC_D,            KC_Y,            KC_P,
     CTL_T(KC_A),            KC_O,            KC_E,            KC_I,            KC_U,                KC_G,            KC_T,            KC_K,            KC_S,            KC_N,
     SFT_T(KC_Z),            KC_X,            KC_C,            KC_V,            KC_F,                KC_B,            KC_H,            KC_J,            KC_L, RSFT_T(KC_SLSH),
                                           KC_LGUI,      MO(_LOWER),   SFT_T(KC_SPC),      RCTL_T(KC_ENT),      MO(_RAISE),         KC_RALT
),

/* Lower.
 *
 * ,----------------------------------.           ,----------------------------------.
 * | ESC  |  End |  Up  | Home | PgUp |           |      |   [  |   ]  |   -  |  BS  |
 * |------+------+------+------+------|           |------+------+------+------+------|
 * | TAB  | Left | Down | Right| PgDn |           |      |   (  |   )  |   +  |  Del |
 * |------+------+------+------+------|           |------+------+------+------+------|
 * |      |      |      |      |      |           |      |   {  |   }  |   _  |  Ins |
 * `----------------------------------'           `----------------------------------'
 *                  ,------,------,------.    ,------,------,------.
 *                  |      |      |      |    |      |      |      |
 *                  `------'------|      |    |      |------'------'
 *                                |      |    |      |
 *                                `------'    `------'
 */
[_LOWER] = LAYOUT(
          KC_ESC,          KC_END,           KC_UP,         KC_HOME,         KC_PGUP,             _______,         KC_LBRC,         KC_RBRC,         KC_MINS,         KC_BSPC,
          KC_TAB,         KC_LEFT,         KC_DOWN,         KC_RGHT,         KC_PGDN,             _______,         KC_LPRN,         KC_RPRN,         KC_PLUS,          KC_DEL,
         _______,         _______,         _______,         _______,         _______,             _______,         KC_LCBR,         KC_RCBR,         KC_UNDS,          KC_INS,
                                           _______,         _______,         _______,             _______,         _______,         _______
),

/* Raise
 *
 * ,----------------------------------.           ,----------------------------------.
 * |   !  |   @  |   #  |   $  |   %  |           |   ^  |   &  |   *  |   -  |   =  |
 * |------+------+------+------+------|           |------+------+------+------+------|
 * |   1  |   2  |   3  |   4  |   5  |           |   6  |   7  |   8  |   9  |   0  |
 * |------+------+------+------+------|           |------+------+------+------+------|
 * |      |      |      |      |      |           |      |      |   `  |   '  |   \  |
 * `----------------------------------'           `----------------------------------'
 *                  ,------,------,------.    ,------,------,------.
 *                  |      |      |      |    |      |      |      |
 *                  `------'------|      |    |      |------'------'
 *                                |      |    |      |
 *                                `------'     `------'
 */
[_RAISE] = LAYOUT(
         KC_EXLM,           KC_AT,         KC_HASH,          KC_DLR,         KC_PERC,             KC_CIRC,         KC_AMPR,         KC_ASTR,         KC_MINS,          KC_EQL,
            KC_1,            KC_2,            KC_3,            KC_4,            KC_5,                KC_6,            KC_7,            KC_8,            KC_9,            KC_0,
         _______,         _______,         _______,         _______,         _______,             _______,         _______,          KC_GRV,         KC_QUOT,         KC_BSLS,
                                           _______,         _______,         _______,             _______,         _______,         _______
),

/* Adjust (Lower + Raise)
 *
 * ,----------------------------------.           ,----------------------------------.
 * |  F1  |  F2  |  F3  |  F4  |  F5  |           |  F6  |  F7  |  F8  |  F9  |  F10 |
 * |------+------+------+------+------|           |------+------+------+------+------|
 * |      |      |      |      |      |           |      |      |      |  F11 |  F12 |
 * |------+------+------+------+------|           |------+------+------+------+------|
 * |      |QWERTY|      |      |      |           |      |      |      |      |      |
 * `----------------------------------'           `----------------------------------'
 *                  ,------,------,------.    ,------,------,------.
 *                  |      |      |      |    |      |      |      |
 *                  `------'------|      |    |      |------'------'
 *                                |      |    |      |
 *                                `------'    `------'
 */
[_ADJUST] = LAYOUT(
           KC_F1,           KC_F2,           KC_F3,           KC_F4,           KC_F5,               KC_F6,           KC_F7,           KC_F8,           KC_F9,          KC_F10,
         _______,         _______,         _______,         _______,         _______,             _______,         _______,         _______,          KC_F11,          KC_F12,
         _______,     TO(_QWERTY),         _______,         _______,         _______,             _______,         _______,         _______,         _______,         _______,
                                           _______,         _______,         _______,             _______,         _______,         _______
),

/* QWERTY
 *
 * ,----------------------------------.           ,----------------------------------.
 * |  TAB |  Q   |  W   |  E   |  R   |           |  Y   |  U   |  I   |  O   |  P   |
 * |------+------+------+------+------|           |------+------+------+------+------|
 * | Ctrl |  A   |  S   |  D   |  F   |           |  H   |  J   |  K   |  L   |  :   |
 * |------+------+------+------+------|           |------+------+------+------+------|
 * | Shift|  Z   |  X   |  C   |  V   |           |  N   |  M   |  ,   |  .   |  /   |
 * `----------------------------------'           `----------------------------------'
 *                  ,------.------.------.    ,------,------.------.
 *                  | Alt  |QWENUM|      |    |      |EUCALN| GUI  |
 *                  |      |      | Space|    |Enter |      |      |
 *                  `------'------|      |    |      |------'------'
 *                                |      |    |      |
 *                                `------'    `------'
 */
[_QWERTY] = LAYOUT(
          KC_TAB,            KC_Q,            KC_W,            KC_E,            KC_R,                KC_Y,            KC_U,            KC_I,            KC_O,            KC_P,
         KC_LCTL,            KC_A,            KC_S,            KC_D,            KC_F,                KC_H,            KC_J,            KC_K,            KC_L,            KC_N,
         KC_LSFT,            KC_Z,            KC_X,            KC_C,            KC_V,                KC_N,            KC_M,         KC_COMM,          KC_DOT,         KC_BSLS,
                                           KC_LALT,     MO(_QWENUM),          KC_SPC,              KC_ENT,    TO(_EUCALYN),         KC_LGUI
),

/* QWERTY NUM
 *
 * ,----------------------------------.           ,----------------------------------.
 * |  ESC |  1   |  2   |  3   |  T   |           |      |      |      |      |  BS  |
 * |------+------+------+------+------|           |------+------+------+------+------|
 * |      |  4   |  5   |  6   |  G   |           |      |      |      |      |  DEL |
 * |------+------+------+------+------|           |------+------+------+------+------|
 * |      |  7   |  8   |  9   |  B   |           |      |      |      |      |  0   |
 * `----------------------------------'           `----------------------------------'
 *                  ,------.------.------.    ,------,------.------.
 *                  |      |      |      |    |      |      |      |
 *                  |      |      |      |    |      |      |      |
 *                  `------'------|      |    |      |------'------'
 *                                |      |    |      |
 *                                `------'    `------'
 */
[_QWENUM] = LAYOUT(
          KC_ESC,            KC_1,            KC_2,            KC_3,            KC_R,             _______,         _______,         _______,         _______,         KC_BSPC,
         _______,            KC_4,            KC_5,            KC_6,            KC_F,             _______,         _______,         _______,         _______,          KC_DEL,
         _______,            KC_7,            KC_8,            KC_9,            KC_V,             _______,         _______,         _______,         _______,            KC_0,
                                           _______,         _______,         _______,             _______,         _______,         _______
)
};

layer_state_t layer_state_set_user(layer_state_t state) {
  return update_tri_layer_state(state, _LOWER, _RAISE, _ADJUST);
}
